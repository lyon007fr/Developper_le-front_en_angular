{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { map } from 'rxjs';\nlet CountryComponent = class CountryComponent {\n  constructor(route, olympicService) {\n    this.route = route;\n    this.olympicService = olympicService;\n  }\n  ngOnInit() {\n    //recuperation de l'info dans l'url\n    const countryLabel = this.route.snapshot.params['country'];\n    //recuperation de l'objet contenant les infos du pays\n    /*     this.olympicService.getOlympics().pipe(tap\n          (data => {this.countryInfo = data.find (value => value.country = countryLabel)})).subscribe()\n     */\n    this.olympicService.getDataByCountry(countryLabel).pipe(map(value => this.chartData = value[0].participations.map(participation => {\n      return {\n        name: participation.year,\n        value: participation.medalsCount\n      };\n    })));\n  }\n};\nCountryComponent = __decorate([Component({\n  selector: 'app-country',\n  standalone: false,\n  imports: [],\n  templateUrl: './country.component.html',\n  styleUrl: './country.component.scss'\n})], CountryComponent);\nexport { CountryComponent };","map":{"version":3,"names":["Component","map","CountryComponent","constructor","route","olympicService","ngOnInit","countryLabel","snapshot","params","getDataByCountry","pipe","value","chartData","participations","participation","name","year","medalsCount","__decorate","selector","standalone","imports","templateUrl","styleUrl"],"sources":["C:\\Users\\MBD7C62N\\Repo Git\\python\\Developpez-le-front-end-en-utilisant-Angular\\src\\app\\country\\country.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ActivatedRoute, OutletContext } from '@angular/router';\r\nimport { Olympic } from 'app/core/models/olympic';\r\nimport { OlympicService } from 'app/core/services/olympic.service';\r\nimport { valueOrDefault } from 'chart.js/dist/helpers/helpers.core';\r\nimport { filter, map, tap } from 'rxjs';\r\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\r\n\r\n\r\n@Component({\r\n  selector: 'app-country',\r\n  standalone: false,\r\n  imports: [],\r\n  templateUrl: './country.component.html',\r\n  styleUrl: './country.component.scss'\r\n})\r\nexport class CountryComponent implements OnInit{\r\n\r\n  public countryInfo!: Olympic | undefined\r\n  public chartData!: {}\r\n\r\n  constructor(private route: ActivatedRoute,\r\n              private olympicService: OlympicService) {}\r\n\r\n\r\n  ngOnInit(): void {\r\n      \r\n    //recuperation de l'info dans l'url\r\n    const countryLabel = this.route.snapshot.params['country']\r\n\r\n    //recuperation de l'objet contenant les infos du pays\r\n\r\n/*     this.olympicService.getOlympics().pipe(tap\r\n      (data => {this.countryInfo = data.find (value => value.country = countryLabel)})).subscribe()\r\n */\r\n      this.olympicService.getDataByCountry(countryLabel).pipe(map(value => this.chartData = value[0].participations.map(participation => {return {\r\n        name:participation.year,\r\n        value:participation.medalsCount}\r\n      })))\r\n    \r\n\r\n  \r\n  }\r\n\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAMjD,SAAiBC,GAAG,QAAa,MAAM;AAWhC,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAK3BC,YAAoBC,KAAqB,EACrBC,cAA8B;IAD9B,KAAAD,KAAK,GAALA,KAAK;IACL,KAAAC,cAAc,GAAdA,cAAc;EAAmB;EAGrDC,QAAQA,CAAA;IAEN;IACA,MAAMC,YAAY,GAAG,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,MAAM,CAAC,SAAS,CAAC;IAE1D;IAEJ;;;IAGM,IAAI,CAACJ,cAAc,CAACK,gBAAgB,CAACH,YAAY,CAAC,CAACI,IAAI,CAACV,GAAG,CAACW,KAAK,IAAI,IAAI,CAACC,SAAS,GAAGD,KAAK,CAAC,CAAC,CAAC,CAACE,cAAc,CAACb,GAAG,CAACc,aAAa,IAAG;MAAE,OAAO;QACzIC,IAAI,EAACD,aAAa,CAACE,IAAI;QACvBL,KAAK,EAACG,aAAa,CAACG;OAAY;IAClC,CAAC,CAAC,CAAC,CAAC;EAIR;CAED;AA5BYhB,gBAAgB,GAAAiB,UAAA,EAP5BnB,SAAS,CAAC;EACToB,QAAQ,EAAE,aAAa;EACvBC,UAAU,EAAE,KAAK;EACjBC,OAAO,EAAE,EAAE;EACXC,WAAW,EAAE,0BAA0B;EACvCC,QAAQ,EAAE;CACX,CAAC,C,EACWtB,gBAAgB,CA4B5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}